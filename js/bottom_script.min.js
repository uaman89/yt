function appInit(){gapi.client.load("youtube","v3",function(){gapi.client.setApiKey("AIzaSyCYvoN4eLABsyKaG1nS8T1GSHMKL5Us3BA"),$("#app").html(""),layout.render($("#app")),layout.showIn("#searchPanel",searchPanelView),layout.showIn("#searchResult",searchResultView),layout.showIn("#videoDetails",videoDetailsView),localStorageSupport="localStorage"in window&&null!==window.localStorage,$("#searchQuery").kendoAutoComplete({select:function(e){var t=this.dataItem(e.item.index());router.navigate("/video/"+t.id)},filtering:function(e){searchModel.set("query",this.value()),searchModel.search(),this.suggest(this.value()),this.setDataSource(searchModel.autocompleteData)},dataTextField:"title",placeholder:"Enter your query"});var e=$("#searchQuery").data("kendoAutoComplete");e.focus(),$(".sidebar, .video-details").mCustomScrollbar({theme:"rounded-dark",snapOffset:20,callbacks:{onInit:function(){$(".sidebar > .mCustomScrollBox").removeAttr("tabindex")}}}),router.start()})}function convertYoutubeDate(e){var t=e.split("T")[0].split("-"),o=t[2]+" "+arrMonthNames[t[1]-1]+" "+t[0];return o}SearchModel={query:"",searchResultItems:new Array,nextPageToken:null,autocompleteData:new Array,search:function(e){this.trigger("removeWelcomeMsg");var t={q:this.query,part:"snippet",type:"video",maxResults:20};e&&(t.pageToken=e);var o=gapi.client.youtube.search.list(t),n=this;o.execute(function(e){n.set("nextPageToken",e.nextPageToken);var t=new Array,o=new Array;$.each(e.items,function(e,n){var a=n.snippet,i={imageSource:a.thumbnails["default"].url,imageAlt:a.title,videoRoute:"#/video/"+n.id.videoId,videoTitle:a.title,videoAuthor:a.channelTitle,videoPublishedAt:convertYoutubeDate(a.publishedAt)};t.push(i),o.push({id:n.id.videoId,title:a.title})}),0==n.searchResultItems.length&&$("#app").addClass("show-result-panel"),n.set("searchResultItems",t),n.set("autocompleteData",o)})},loadNextPageResult:function(){this.search(this.nextPageToken)}},VideoModel={imageSource:"",imageAlt:"",videoTitle:"",videoDescription:"",videoViewCount:"",videoAuthor:"",videoPublishedAt:"",videoId:"",userComment:"",noCommentsMsg:"",open:function(e){var t=gapi.client.youtube.videos.list({part:"snippet,statistics",id:e}),o=this;t.execute(function(t){var n=t.items[0].snippet;imgSrc=n.thumbnails.high.url,o.set("imageSource",imgSrc),o.set("imageAlt",n.title),o.set("videoTitle",n.title),o.set("videoDescription",n.description),o.set("videoPublishedAt",convertYoutubeDate(n.publishedAt)),o.set("videoAuthor",n.channelTitle),o.set("videoViewCount",t.items[0].statistics.viewCount),o.set("videoUrl","http://www.youtube.com/embed/"+e+"?fs=1&autoplay=1")}),this.set("videoId",e),this.loadComments()},play:function(){$.fancybox({padding:0,autoScale:!1,transitionIn:"fade",transitionOut:"fade",title:this.videoTitle,href:this.videoUrl,type:"iframe"})},comments:null,addComment:function(e){if(13==e.keyCode&&e.shiftKey===!1){var t=this.userComment;if(""==t)return void alert("we don't add empty comments ;-)");t=t.replace(/^(?=\n)$|^\s*|\s*$|\n\n+/gm,""),console.log("comment","["+t+"]"),arrComments=this.comments;for(key in arrComments)if(arrComments[key].commentText==t)return void alert("That comment already exists.\nBe more creative!");arrComments.push({commentText:t,commentDateTime:(new Date).toLocaleString()}),this.set("comments",arrComments),localStorage.setItem(this.videoId,JSON.stringify(arrComments)),this.set("noCommentsMsg","")}},loadComments:function(){var e=new Array;localStorageSupport&&(e=JSON.parse(localStorage.getItem(this.videoId))||new Array),this.set("noCommentsMsg",0==e.length?"there is no comments yet...":""),this.set("comments",e)}};var router=new kendo.Router;router.route("/",function(){var e=$("#welcomeMsgTpl").html();$("#app > div").append(e),searchModel.one("removeWelcomeMsg",function(){$(".welcome-block").remove()})}),router.route("/video/:id",function(e){videoModel.videoId||($("#videoDetails").fadeIn(500),$("#welcomeBlock").fadeOut(500),$("#loadMoreBtn").show()),videoModel.open(e)});var searchModel=kendo.observable(SearchModel),videoModel=kendo.observable(VideoModel),searchPanelView=new kendo.View("searchPanelTpl",{model:searchModel,wrap:!1}),searchResultView=new kendo.View("searchResultTpl",{model:searchModel,wrap:!1}),videoDetailsView=new kendo.View("videoDetailsTpl",{model:videoModel,wrap:!1,evalTemplate:!0}),layout=new kendo.Layout("appLayout"),localStorageSupport=!1,arrMonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];!function(e,t,o,n){var a=o("html"),i=o(e),r=o(t),l=o.fancybox=function(){l.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==n,u=function(e){return e&&e.hasOwnProperty&&e instanceof o},h=function(e){return e&&"string"===o.type(e)},f=function(e){return h(e)&&0<e.indexOf("%")},p=function(e,t){var o=parseInt(e,10)||0;return t&&f(e)&&(o*=l.getViewport()[t]/100),Math.ceil(o)},m=function(e,t){return p(e,t)+"px"};o.extend(l,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:o.noop,beforeLoad:o.noop,afterLoad:o.noop,beforeShow:o.noop,afterShow:o.noop,beforeChange:o.noop,beforeClose:o.noop,afterClose:o.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(o.isPlainObject(t)||(t={}),!1!==l.close(!0))?(o.isArray(e)||(e=u(e)?o(e).get():[e]),o.each(e,function(a,i){var r,s,c,d,f,p={};"object"===o.type(i)&&(i.nodeType&&(i=o(i)),u(i)?(p={href:i.data("fancybox-href")||i.attr("href"),title:i.data("fancybox-title")||i.attr("title"),isDom:!0,element:i},o.metadata&&o.extend(!0,p,i.metadata())):p=i),r=t.href||p.href||(h(i)?i:null),s=t.title!==n?t.title:p.title||"",d=(c=t.content||p.content)?"html":t.type||p.type,!d&&p.isDom&&(d=i.data("fancybox-type"),d||(d=(d=i.prop("class").match(/fancybox\.(\w+)/))?d[1]:null)),h(r)&&(d||(l.isImage(r)?d="image":l.isSWF(r)?d="swf":"#"===r.charAt(0)?d="inline":h(i)&&(d="html",c=i)),"ajax"===d&&(f=r.split(/\s+/,2),r=f.shift(),f=f.shift())),c||("inline"===d?r?c=o(h(r)?r.replace(/.*(?=#[^\s]+$)/,""):r):p.isDom&&(c=i):"html"===d?c=r:!d&&!r&&p.isDom&&(d="inline",c=i)),o.extend(p,{href:r,type:d,content:c,title:s,selector:f}),e[a]=p}),l.opts=o.extend(!0,{},l.defaults,t),t.keys!==n&&(l.opts.keys=t.keys?o.extend({},l.defaults.keys,t.keys):!1),l.group=e,l._start(l.opts.index)):void 0},cancel:function(){var e=l.coming;e&&!1!==l.trigger("onCancel")&&(l.hideLoading(),l.ajaxLoad&&l.ajaxLoad.abort(),l.ajaxLoad=null,l.imgPreload&&(l.imgPreload.onload=l.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),l.coming=null,l.current||l._afterZoomOut(e))},close:function(e){l.cancel(),!1!==l.trigger("beforeClose")&&(l.unbindEvents(),l.isActive&&(l.isOpen&&!0!==e?(l.isOpen=l.isOpened=!1,l.isClosing=!0,o(".fancybox-item, .fancybox-nav").remove(),l.wrap.stop(!0,!0).removeClass("fancybox-opened"),l.transitions[l.current.closeMethod]()):(o(".fancybox-wrap").stop(!0).trigger("onReset").remove(),l._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(l.player.timer)},o=function(){t(),l.current&&l.player.isActive&&(l.player.timer=setTimeout(l.next,l.current.playSpeed))},n=function(){t(),r.unbind(".player"),l.player.isActive=!1,l.trigger("onPlayEnd")};!0===e||!l.player.isActive&&!1!==e?l.current&&(l.current.loop||l.current.index<l.group.length-1)&&(l.player.isActive=!0,r.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":o,"beforeLoad.player":t}),o(),l.trigger("onPlayStart")):n()},next:function(e){var t=l.current;t&&(h(e)||(e=t.direction.next),l.jumpto(t.index+1,e,"next"))},prev:function(e){var t=l.current;t&&(h(e)||(e=t.direction.prev),l.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,o){var a=l.current;a&&(e=p(e),l.direction=t||a.direction[e>=a.index?"next":"prev"],l.router=o||"jumpto",a.loop&&(0>e&&(e=a.group.length+e%a.group.length),e%=a.group.length),a.group[e]!==n&&(l.cancel(),l._start(e)))},reposition:function(e,t){var n,a=l.current,i=a?a.wrap:null;i&&(n=l._getPosition(t),e&&"scroll"===e.type?(delete n.position,i.stop(!0,!0).animate(n,200)):(i.css(n),a.pos=o.extend({},a.dim,n)))},update:function(e){var t=e&&e.type,o=!t||"orientationchange"===t;o&&(clearTimeout(c),c=null),l.isOpen&&!c&&(c=setTimeout(function(){var n=l.current;n&&!l.isClosing&&(l.wrap.removeClass("fancybox-tmp"),(o||"load"===t||"resize"===t&&n.autoResize)&&l._setDimension(),"scroll"===t&&n.canShrink||l.reposition(e),l.trigger("onUpdate"),c=null)},o&&!d?0:300))},toggle:function(e){l.isOpen&&(l.current.fitToView="boolean"===o.type(e)?e:!l.current.fitToView,d&&(l.wrap.removeAttr("style").addClass("fancybox-tmp"),l.trigger("onUpdate")),l.update())},hideLoading:function(){r.unbind(".loading"),o("#fancybox-loading").remove()},showLoading:function(){var e,t;l.hideLoading(),e=o('<div id="fancybox-loading"><div></div></div>').click(l.cancel).appendTo("body"),r.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),l.cancel())}),l.defaults.fixed||(t=l.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=l.current&&l.current.locked||!1,o={x:i.scrollLeft(),y:i.scrollTop()};return t?(o.w=t[0].clientWidth,o.h=t[0].clientHeight):(o.w=d&&e.innerWidth?e.innerWidth:i.width(),o.h=d&&e.innerHeight?e.innerHeight:i.height()),o},unbindEvents:function(){l.wrap&&u(l.wrap)&&l.wrap.unbind(".fb"),r.unbind(".fb"),i.unbind(".fb")},bindEvents:function(){var e,t=l.current;t&&(i.bind("orientationchange.fb"+(d?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),l.update),(e=t.keys)&&r.bind("keydown.fb",function(a){var i=a.which||a.keyCode,r=a.target||a.srcElement;return 27===i&&l.coming?!1:void(!a.ctrlKey&&!a.altKey&&!a.shiftKey&&!a.metaKey&&(!r||!r.type&&!o(r).is("[contenteditable]"))&&o.each(e,function(e,r){return 1<t.group.length&&r[i]!==n?(l[e](r[i]),a.preventDefault(),!1):-1<o.inArray(i,r)?(l[e](),a.preventDefault(),!1):void 0}))}),o.fn.mousewheel&&t.mouseWheel&&l.wrap.bind("mousewheel.fb",function(e,n,a,i){for(var r=o(e.target||null),s=!1;r.length&&!s&&!r.is(".fancybox-skin")&&!r.is(".fancybox-wrap");)s=r[0]&&!(r[0].style.overflow&&"hidden"===r[0].style.overflow)&&(r[0].clientWidth&&r[0].scrollWidth>r[0].clientWidth||r[0].clientHeight&&r[0].scrollHeight>r[0].clientHeight),r=o(r).parent();0!==n&&!s&&1<l.group.length&&!t.canShrink&&(i>0||a>0?l.prev(i>0?"down":"left"):(0>i||0>a)&&l.next(0>i?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var n,a=t||l.coming||l.current;if(a){if(o.isFunction(a[e])&&(n=a[e].apply(a,Array.prototype.slice.call(arguments,1))),!1===n)return!1;a.helpers&&o.each(a.helpers,function(t,n){n&&l.helpers[t]&&o.isFunction(l.helpers[t][e])&&l.helpers[t][e](o.extend(!0,{},l.helpers[t].defaults,n),a)}),r.trigger(e)}},isImage:function(e){return h(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return h(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,n,a={};if(e=p(e),t=l.group[e]||null,!t)return!1;if(a=o.extend(!0,{},l.opts,t),t=a.margin,n=a.padding,"number"===o.type(t)&&(a.margin=[t,t,t,t]),"number"===o.type(n)&&(a.padding=[n,n,n,n]),a.modal&&o.extend(!0,a,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),a.autoSize&&(a.autoWidth=a.autoHeight=!0),"auto"===a.width&&(a.autoWidth=!0),"auto"===a.height&&(a.autoHeight=!0),a.group=l.group,a.index=e,l.coming=a,!1===l.trigger("beforeLoad"))l.coming=null;else{if(n=a.type,t=a.href,!n)return l.coming=null,l.current&&l.router&&"jumpto"!==l.router?(l.current.index=e,l[l.router](l.direction)):!1;if(l.isActive=!0,"image"!==n&&"swf"!==n||(a.autoHeight=a.autoWidth=!1,a.scrolling="visible"),"image"===n&&(a.aspectRatio=!0),"iframe"===n&&d&&(a.scrolling="scroll"),a.wrap=o(a.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+a.wrapCSS).appendTo(a.parent||"body"),o.extend(a,{skin:o(".fancybox-skin",a.wrap),outer:o(".fancybox-outer",a.wrap),inner:o(".fancybox-inner",a.wrap)}),o.each(["Top","Right","Bottom","Left"],function(e,t){a.skin.css("padding"+t,m(a.padding[e]))}),l.trigger("onReady"),"inline"===n||"html"===n){if(!a.content||!a.content.length)return l._error("content")}else if(!t)return l._error("href");"image"===n?l._loadImage():"ajax"===n?l._loadAjax():"iframe"===n?l._loadIframe():l._afterLoad()}},_error:function(e){o.extend(l.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:l.coming.tpl.error}),l._afterLoad()},_loadImage:function(){var e=l.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,l.coming.width=this.width/l.opts.pixelRatio,l.coming.height=this.height/l.opts.pixelRatio,l._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,l._error("image")},e.src=l.coming.href,!0!==e.complete&&l.showLoading()},_loadAjax:function(){var e=l.coming;l.showLoading(),l.ajaxLoad=o.ajax(o.extend({},e.ajax,{url:e.href,error:function(e,t){l.coming&&"abort"!==t?l._error("ajax",e):l.hideLoading()},success:function(t,o){"success"===o&&(e.content=t,l._afterLoad())}}))},_loadIframe:function(){var e=l.coming,t=o(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d?"auto":e.iframe.scrolling).attr("src",e.href);o(e.wrap).bind("onReset",function(){try{o(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(l.showLoading(),t.one("load",function(){o(this).data("ready",1),d||o(this).bind("load.fb",l.update),o(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),l._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||l._afterLoad()},_preloadImages:function(){var e,t,o=l.group,n=l.current,a=o.length,i=n.preload?Math.min(n.preload,a-1):0;for(t=1;i>=t;t+=1)e=o[(n.index+t)%a],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,a,i,r=l.coming,s=l.current;if(l.hideLoading(),r&&!1!==l.isActive)if(!1===l.trigger("afterLoad",r,s))r.wrap.stop(!0).trigger("onReset").remove(),l.coming=null;else{switch(s&&(l.trigger("beforeChange",s),s.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),l.unbindEvents(),e=r.content,t=r.type,n=r.scrolling,o.extend(l,{wrap:r.wrap,skin:r.skin,outer:r.outer,inner:r.inner,current:r,previous:s}),a=r.href,t){case"inline":case"ajax":case"html":r.selector?e=o("<div>").html(e).find(r.selector):u(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",o('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),r.wrap.bind("onReset",function(){o(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=r.tpl.image.replace("{href}",a);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+a+'"></param>',i="",o.each(r.swf,function(t,o){e+='<param name="'+t+'" value="'+o+'"></param>',i+=" "+t+'="'+o+'"'}),e+='<embed src="'+a+'" type="application/x-shockwave-flash" width="100%" height="100%"'+i+"></embed></object>"}(!u(e)||!e.parent().is(r.inner))&&r.inner.append(e),l.trigger("beforeShow"),r.inner.css("overflow","yes"===n?"scroll":"no"===n?"hidden":n),l._setDimension(),l.reposition(),l.isOpen=!1,l.coming=null,l.bindEvents(),l.isOpened?s.prevMethod&&l.transitions[s.prevMethod]():o(".fancybox-wrap").not(r.wrap).stop(!0).trigger("onReset").remove(),l.transitions[l.isOpened?r.nextMethod:r.openMethod](),l._preloadImages()}},_setDimension:function(){var e,t,n,a,i,r,s,c,d,u=l.getViewport(),h=0,g=!1,v=!1,g=l.wrap,x=l.skin,w=l.inner,y=l.current,v=y.width,b=y.height,_=y.minWidth,S=y.minHeight,C=y.maxWidth,k=y.maxHeight,T=y.scrolling,M=y.scrollOutside?y.scrollbarWidth:0,B=y.margin,O=p(B[1]+B[3]),D=p(B[0]+B[2]);if(g.add(x).add(w).width("auto").height("auto").removeClass("fancybox-tmp"),B=p(x.outerWidth(!0)-x.width()),e=p(x.outerHeight(!0)-x.height()),t=O+B,n=D+e,a=f(v)?(u.w-t)*p(v)/100:v,i=f(b)?(u.h-n)*p(b)/100:b,"iframe"===y.type){if(d=y.content,y.autoHeight&&1===d.data("ready"))try{d[0].contentWindow.document.location&&(w.width(a).height(9999),r=d.contents().find("body"),M&&r.css("overflow-x","hidden"),i=r.outerHeight(!0))}catch(I){}}else(y.autoWidth||y.autoHeight)&&(w.addClass("fancybox-tmp"),y.autoWidth||w.width(a),y.autoHeight||w.height(i),y.autoWidth&&(a=w.width()),y.autoHeight&&(i=w.height()),w.removeClass("fancybox-tmp"));if(v=p(a),b=p(i),c=a/i,_=p(f(_)?p(_,"w")-t:_),C=p(f(C)?p(C,"w")-t:C),S=p(f(S)?p(S,"h")-n:S),k=p(f(k)?p(k,"h")-n:k),r=C,s=k,y.fitToView&&(C=Math.min(u.w-t,C),k=Math.min(u.h-n,k)),t=u.w-O,D=u.h-D,y.aspectRatio?(v>C&&(v=C,b=p(v/c)),b>k&&(b=k,v=p(b*c)),_>v&&(v=_,b=p(v/c)),S>b&&(b=S,v=p(b*c))):(v=Math.max(_,Math.min(v,C)),y.autoHeight&&"iframe"!==y.type&&(w.width(v),b=w.height()),b=Math.max(S,Math.min(b,k))),y.fitToView)if(w.width(v).height(b),g.width(v+B),u=g.width(),O=g.height(),y.aspectRatio)for(;(u>t||O>D)&&v>_&&b>S&&!(19<h++);)b=Math.max(S,Math.min(k,b-10)),v=p(b*c),_>v&&(v=_,b=p(v/c)),v>C&&(v=C,b=p(v/c)),w.width(v).height(b),g.width(v+B),u=g.width(),O=g.height();else v=Math.max(_,Math.min(v,v-(u-t))),b=Math.max(S,Math.min(b,b-(O-D)));M&&"auto"===T&&i>b&&t>v+B+M&&(v+=M),w.width(v).height(b),g.width(v+B),u=g.width(),O=g.height(),g=(u>t||O>D)&&v>_&&b>S,v=y.aspectRatio?r>v&&s>b&&a>v&&i>b:(r>v||s>b)&&(a>v||i>b),o.extend(y,{dim:{width:m(u),height:m(O)},origWidth:a,origHeight:i,canShrink:g,canExpand:v,wPadding:B,hPadding:e,wrapSpace:O-x.outerHeight(!0),skinSpace:x.height()-b}),!d&&y.autoHeight&&b>S&&k>b&&!v&&w.height("auto")},_getPosition:function(e){var t=l.current,o=l.getViewport(),n=t.margin,a=l.wrap.width()+n[1]+n[3],i=l.wrap.height()+n[0]+n[2],n={position:"absolute",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&i<=o.h&&a<=o.w?n.position="fixed":t.locked||(n.top+=o.y,n.left+=o.x),n.top=m(Math.max(n.top,n.top+(o.h-i)*t.topRatio)),n.left=m(Math.max(n.left,n.left+(o.w-a)*t.leftRatio)),n},_afterZoomIn:function(){var e=l.current;e&&(l.isOpen=l.isOpened=!0,l.wrap.css("overflow","visible").addClass("fancybox-opened"),l.update(),(e.closeClick||e.nextClick&&1<l.group.length)&&l.inner.css("cursor","pointer").bind("click.fb",function(t){!o(t.target).is("a")&&!o(t.target).parent().is("a")&&(t.preventDefault(),l[e.closeClick?"close":"next"]())}),e.closeBtn&&o(e.tpl.closeBtn).appendTo(l.skin).bind("click.fb",function(e){e.preventDefault(),l.close()}),e.arrows&&1<l.group.length&&((e.loop||0<e.index)&&o(e.tpl.prev).appendTo(l.outer).bind("click.fb",l.prev),(e.loop||e.index<l.group.length-1)&&o(e.tpl.next).appendTo(l.outer).bind("click.fb",l.next)),l.trigger("afterShow"),e.loop||e.index!==e.group.length-1?l.opts.autoPlay&&!l.player.isActive&&(l.opts.autoPlay=!1,l.play()):l.play(!1))},_afterZoomOut:function(e){e=e||l.current,o(".fancybox-wrap").trigger("onReset").remove(),o.extend(l,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),l.trigger("afterClose",e)}}),l.transitions={getOrigPosition:function(){var e=l.current,t=e.element,o=e.orig,n={},a=50,i=50,r=e.hPadding,s=e.wPadding,c=l.getViewport();return!o&&e.isDom&&t.is(":visible")&&(o=t.find("img:first"),o.length||(o=t)),u(o)?(n=o.offset(),o.is("img")&&(a=o.outerWidth(),i=o.outerHeight())):(n.top=c.y+(c.h-i)*e.topRatio,n.left=c.x+(c.w-a)*e.leftRatio),("fixed"===l.wrap.css("position")||e.locked)&&(n.top-=c.y,n.left-=c.x),n={top:m(n.top-r*e.topRatio),left:m(n.left-s*e.leftRatio),width:m(a+s),height:m(i+r)}},step:function(e,t){var o,n,a=t.prop;n=l.current;var i=n.wrapSpace,r=n.skinSpace;"width"!==a&&"height"!==a||(o=t.end===t.start?1:(e-t.start)/(t.end-t.start),l.isClosing&&(o=1-o),n="width"===a?n.wPadding:n.hPadding,n=e-n,l.skin[a](p("width"===a?n:n-i*o)),l.inner[a](p("width"===a?n:n-i*o-r*o)))},zoomIn:function(){var e=l.current,t=e.pos,n=e.openEffect,a="elastic"===n,i=o.extend({opacity:1},t);delete i.position,a?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===n&&(t.opacity=.1),l.wrap.css(t).animate(i,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:a?this.step:null,complete:l._afterZoomIn})},zoomOut:function(){var e=l.current,t=e.closeEffect,o="elastic"===t,n={opacity:.1};o&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),l.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:o?this.step:null,complete:l._afterZoomOut})},changeIn:function(){var e,t=l.current,o=t.nextEffect,n=t.pos,a={opacity:1},i=l.direction;n.opacity=.1,"elastic"===o&&(e="down"===i||"up"===i?"top":"left","down"===i||"right"===i?(n[e]=m(p(n[e])-200),a[e]="+=200px"):(n[e]=m(p(n[e])+200),a[e]="-=200px")),"none"===o?l._afterZoomIn():l.wrap.css(n).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:l._afterZoomIn})},changeOut:function(){var e=l.previous,t=e.prevEffect,n={opacity:.1},a=l.direction;"elastic"===t&&(n["down"===a||"up"===a?"top":"left"]=("up"===a||"left"===a?"-":"+")+"=200px"),e.wrap.animate(n,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){o(this).trigger("onReset").remove()}})}},l.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:o("html"),create:function(e){e=o.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=o('<div class="fancybox-overlay"></div>').appendTo(l.coming?l.coming.parent:e.parent),this.fixed=!1,e.fixed&&l.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=o.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(i.bind("resize.overlay",o.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return o(e.target).hasClass("fancybox-overlay")?(l.isActive?l.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;i.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(o(".fancybox-margin").removeClass("fancybox-margin"),e=i.scrollTop(),t=i.scrollLeft(),this.el.removeClass("fancybox-lock"),i.scrollTop(e).scrollLeft(t)),o(".fancybox-overlay").remove().hide(),o.extend(this,{overlay:null,fixed:!1})},update:function(){var e,o="100%";this.overlay.width(o).height("100%"),s?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),r.width()>e&&(o=r.width())):r.width()>i.width()&&(o=r.width()),this.overlay.width(o).height(r.height())},onReady:function(e,t){var n=this.overlay;o(".fancybox-overlay").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=r.height()>i.height()?o("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,a;t.locked&&(!1!==this.margin&&(o("*").filter(function(){return"fixed"===o(this).css("position")&&!o(this).hasClass("fancybox-overlay")&&!o(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=i.scrollTop(),a=i.scrollLeft(),this.el.addClass("fancybox-lock"),i.scrollTop(n).scrollLeft(a)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!l.coming&&this.overlay.fadeOut(e.speedOut,o.proxy(this.close,this))}},l.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=l.current,n=t.title,a=e.type;if(o.isFunction(n)&&(n=n.call(t.element,t)),h(n)&&""!==o.trim(n)){switch(t=o('<div class="fancybox-title fancybox-title-'+a+'-wrap">'+n+"</div>"),a){case"inside":a=l.skin;break;case"outside":a=l.wrap;break;case"over":a=l.inner;break;default:a=l.skin,t.appendTo("body"),s&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),l.current.margin[2]+=Math.abs(p(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](a)}}},o.fn.fancybox=function(e){var t,n=o(this),a=this.selector||"",i=function(i){var r,s,c=o(this).blur(),d=t;!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey&&!c.is(".fancybox-wrap")&&(r=e.groupAttr||"data-fancybox-group",s=c.attr(r),s||(r="rel",s=c.get(0)[r]),s&&""!==s&&"nofollow"!==s&&(c=a.length?o(a):n,c=c.filter("["+r+'="'+s+'"]'),d=c.index(this)),e.index=d,!1!==l.open(c,e)&&i.preventDefault())};return e=e||{},t=e.index||0,a&&!1!==e.live?r.undelegate(a,"click.fb-start").delegate(a+":not('.fancybox-item, .fancybox-nav')","click.fb-start",i):n.unbind("click.fb-start").bind("click.fb-start",i),this.filter("[data-fancybox-start=1]").trigger("click"),this},r.ready(function(){var t,i;if(o.scrollbarWidth===n&&(o.scrollbarWidth=function(){var e=o('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),t=t.innerWidth()-t.height(99).innerWidth();return e.remove(),t}),o.support.fixedPosition===n){t=o.support,i=o('<div style="position:fixed;top:20px;"></div>').appendTo("body");var r=20===i[0].offsetTop||15===i[0].offsetTop;i.remove(),t.fixedPosition=r}o.extend(l.defaults,{scrollbarWidth:o.scrollbarWidth(),fixed:o.support.fixedPosition,parent:o("body")}),t=o(e).width(),a.addClass("fancybox-lock-test"),i=o(e).width(),a.removeClass("fancybox-lock-test"),o("<style type='text/css'>.fancybox-margin{margin-right:"+(i-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,u=0,h=0,f=0,p=0,m=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in r&&(h=-1*r.deltaY,c=h),"deltaX"in r&&(u=r.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(f=Math.max(Math.abs(h),Math.abs(u)),(!i||i>f)&&(i=f,n(r,f)&&(i/=40)),n(r,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/i),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),d.settings.normalizeOffset&&this.getBoundingClientRect){var x=this.getBoundingClientRect();p=t.clientX-x.left,m=t.clientY-x.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=i,t.offsetX=p,t.offsetY=m,t.deltaMode=0,l.unshift(t,c,u,h),a&&clearTimeout(a),a=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function o(){i=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var a,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var o=l.length;o;)this.addEventListener(l[--o],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var o=l.length;o;)this.removeEventListener(l[--o],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var o=e(t),n=o["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(o.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,u=0,h=0,f=0,p=0,m=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in r&&(h=-1*r.deltaY,c=h),"deltaX"in r&&(u=r.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(f=Math.max(Math.abs(h),Math.abs(u)),(!i||i>f)&&(i=f,n(r,f)&&(i/=40)),n(r,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/i),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),d.settings.normalizeOffset&&this.getBoundingClientRect){var x=this.getBoundingClientRect();p=t.clientX-x.left,m=t.clientY-x.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=i,t.offsetX=p,t.offsetY=m,t.deltaMode=0,l.unshift(t,c,u,h),a&&clearTimeout(a),a=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function o(){i=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var a,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var o=l.length;o;)this.addEventListener(l[--o],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this));
},teardown:function(){if(this.removeEventListener)for(var o=l.length;o;)this.removeEventListener(l[--o],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var o=e(t),n=o["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(o.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,a="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(n?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+a+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",n="mCS",a=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=h.call(this);if(t.live){var s=t.liveSelector||this.selector||a,c=e(s);if("off"===t.live)return void p(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&p(s)},500)}else p(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":m(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),f(t),e(o).each(function(){var o=e(this);if(!o.data(n)){o.data(n,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var a=o.data(n),i=a.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,f(i)),v.call(this),a&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+a.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var a=t||h.call(this);return e(a).each(function(){var t=e(this);if(t.data(n)){var a=t.data(n),i=a.opt,r=e("#mCSB_"+a.idx+"_container"),l=e("#mCSB_"+a.idx),s=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];if(!r.length)return;a.tweenRunning&&q(t),o&&a&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),w.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),a.overflowed=C.call(this),B.call(this),i.autoDraggerLength&&b.call(this),_.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(a.overflowed[0]?s[0].height()>s[0].parent().height()?k.call(this):($(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),a.contentReset.y=null):(k.call(this),"y"===i.axis?M.call(this):"yx"===i.axis&&a.overflowed[1]&&$(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(a.overflowed[1]?s[1].width()>s[1].parent().width()?k.call(this):($(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),a.contentReset.x=null):(k.call(this),"x"===i.axis?M.call(this):"yx"===i.axis&&a.overflowed[0]&&$(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&a&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),F.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var a=h.call(this);return e(a).each(function(){var a=e(this);if(a.data(n)){var i=a.data(n),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=U.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=oe()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",$(a,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",$(a,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=h.call(this);return e(t).each(function(){var t=e(this);t.data(n)&&q(t)})},disable:function(t){var o=h.call(this);return e(o).each(function(){var o=e(this);o.data(n)&&(o.data(n),F.call(this,"remove"),M.call(this),t&&k.call(this),B.call(this,!0),o.addClass(d[3]))})},destroy:function(){var t=h.call(this);return e(t).each(function(){var a=e(this);if(a.data(n)){var i=a.data(n),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&p(r.liveSelector||e(t).selector),F.call(this,"remove"),M.call(this),k.call(this),a.removeData(n),Q(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),a.removeClass(o+" _"+n+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},h=function(){return"object"!=typeof e(this)||e(this).length<1?a:this},f=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],n=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],a=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,n)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,a)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},p=function(e){l[e]&&(clearTimeout(l[e]),Q(l,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),a=t.data(n),i=a.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+a.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+a.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+a.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=i.autoHideScrollbar?" "+d[6]:"",f="x"!==i.axis&&"rtl"===a.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===a.langDir?"989999px":i.setLeft,t.addClass(o+" _"+n+"_"+a.idx+h+f).wrapInner("<div id='mCSB_"+a.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+a.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+a.langDir+" /></div>");var p=e("#mCSB_"+a.idx),m=e("#mCSB_"+a.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||m.css("width",x(m)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),p.addClass("mCSB_outside").after(c)):(p.addClass("mCSB_inside").append(c),m.wrap(u)),y.call(this);var g=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],n=t.parent().width();return o[0]>n?o[0]:o[1]>n?o[1]:"100%"},w=function(){var t=e(this),o=t.data(n),a=o.opt,i=e("#mCSB_"+o.idx+"_container");if(a.advanced.autoExpandHorizontalScroll&&"y"!==a.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===a.advanced.autoExpandHorizontalScroll||2!==a.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},y=function(){var t=e(this),o=t.data(n),a=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=ee(a.scrollButtons.tabindex)?"tabindex='"+a.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===a.axis?l[2]:l[0],"x"===a.axis?l[3]:l[1],l[2],l[3]];a.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},b=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[a.height()/i.outerHeight(!1),a.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},_=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-a.height(),i.outerWidth(!1)-a.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},S=function(e,t,o){var n=o?d[0]+"_expanded":"",a=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+n),a.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),a.removeClass(d[1])):(e.addClass(d[0]),a.addClass(d[1])))},C=function(){var t=e(this),o=t.data(n),a=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>a.height(),l>a.width()]},k=function(){var t=e(this),o=t.data(n),a=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(q(t),("x"!==a.axis&&!o.overflowed[0]||"y"===a.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),$(t,"_resetY")),"y"!==a.axis&&!o.overflowed[1]||"x"===a.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),$(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),R.call(o[0])):t()},100)}var o=e(this),a=o.data(n),i=a.opt;if(!a.bindEvents){if(D.call(this),i.contentTouchScroll&&I.call(this),A.call(this),i.mouseWheel.enable){var r;t()}W.call(this),H.call(this),i.advanced.autoScrollOnFocus&&P.call(this),i.scrollButtons.enable&&z.call(this),i.keyboard.enable&&j.call(this),a.bindEvents=!0}},M=function(){var t=e(this),o=t.data(n),a=o.opt,i=n+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");a.advanced.releaseDraggableSelectors&&l.add(e(a.advanced.releaseDraggableSelectors)),a.advanced.extraDraggableSelectors&&l.add(e(a.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!L()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),Q(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),Q(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),Q(s[0],"onCompleteTimeout"),o.bindEvents=!1)},B=function(t){var o=e(this),a=o.data(n),i=a.opt,r=e("#mCSB_"+a.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+a.idx+"_container"),s=[e("#mCSB_"+a.idx+"_scrollbar_vertical"),e("#mCSB_"+a.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(a.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(a.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),a.overflowed[0]||a.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,n=t.target.ownerDocument!==document?[e(frameElement).offset().top,e(frameElement).offset().left]:null,a=L()&&t.target.ownerDocument!==top.document?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[t.originalEvent.pageY-n[0]+a[0],t.originalEvent.pageX-n[1]+a[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return n?[t.pageY-n[0]+a[0],t.pageX-n[1]+a[1],!1]:[t.pageY,t.pageX,!1]}},D=function(){function t(e){var t=p.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}}function o(e,t,o,n){if(p[0].idleTimer=u.scrollInertia<233?250:0,a.attr("id")===f[1])var i="x",r=(a[0].offsetLeft-t+n)*d.scrollRatio.x;else var i="y",r=(a[0].offsetTop-e+o)*d.scrollRatio.y;$(l,r.toString(),{dir:i,drag:!0})}var a,i,r,l=e(this),d=l.data(n),u=d.opt,h=n+"_"+d.idx,f=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],p=e("#mCSB_"+d.idx+"_container"),m=e("#"+f[0]+",#"+f[1]),g=u.advanced.releaseDraggableSelectors?m.add(e(u.advanced.releaseDraggableSelectors)):m,v=u.advanced.extraDraggableSelectors?e(!L()||top.document).add(e(u.advanced.extraDraggableSelectors)):e(!L()||top.document);m.bind("mousedown."+h+" touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),J(o)){c=!0,s&&(document.onselectstart=function(){return!1}),t(!1),q(l),a=e(this);var n=a.offset(),d=O(o)[0]-n.top,h=O(o)[1]-n.left,f=a.height()+n.top,p=a.width()+n.left;f>d&&d>0&&p>h&&h>0&&(i=d,r=h),S(a,"active",u.autoExpandScrollbar)}}).bind("touchmove."+h,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=a.offset(),n=O(e)[0]-t.top,l=O(e)[1]-t.left;o(i,r,n,l)}),e(document).add(v).bind("mousemove."+h+" pointermove."+h+" MSPointerMove."+h,function(e){if(a){var t=a.offset(),n=O(e)[0]-t.top,l=O(e)[1]-t.left;if(i===n&&r===l)return;o(i,r,n,l)}}).add(g).bind("mouseup."+h+" touchend."+h+" pointerup."+h+" MSPointerUp."+h,function(e){a&&(S(a,"active",u.autoExpandScrollbar),a=null),c=!1,s&&(document.onselectstart=null),t(!0)})},I=function(){function o(e){if(!G(e)||c||O(e)[2])return void(t=0);t=1,_=0,S=0,d=1,C.removeClass("mCS_touch_action");var o=D.offset();u=O(e)[0]-o.top,h=O(e)[1]-o.left,P=[O(e)[0],O(e)[1]]}function a(e){if(G(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!S||_)&&d)){g=K();var t=B.offset(),o=O(e)[0]-t.top,n=O(e)[1]-t.left,a="mcsLinearOut";if(A.push(o),R.push(n),P[2]=Math.abs(O(e)[0]-P[0]),P[3]=Math.abs(O(e)[1]-P[1]),k.overflowed[0])var i=I[0].parent().height()-I[0].height(),r=u-o>0&&o-u>-(i*k.scrollRatio.y)&&(2*P[3]<P[2]||"yx"===T.axis);if(k.overflowed[1])var l=I[1].parent().width()-I[1].width(),f=h-n>0&&n-h>-(l*k.scrollRatio.x)&&(2*P[2]<P[3]||"yx"===T.axis);r||f?(j||e.preventDefault(),_=1):(S=1,C.addClass("mCS_touch_action")),j&&e.preventDefault(),y="yx"===T.axis?[u-o,h-n]:"x"===T.axis?[null,h-n]:[u-o,null],D[0].idleTimer=250,k.overflowed[0]&&s(y[0],E,a,"y","all",!0),k.overflowed[1]&&s(y[1],E,a,"x",W,!0)}}function i(e){if(!G(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),q(C),m=K();var o=B.offset();f=O(e)[0]-o.top,p=O(e)[1]-o.left,A=[],R=[]}function r(e){if(G(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),_=0,S=0,v=K();var t=B.offset(),o=O(e)[0]-t.top,n=O(e)[1]-t.left;if(!(v-g>30)){w=1e3/(v-m);var a="mcsEaseOut",i=2.5>w,r=i?[A[A.length-2],R[R.length-2]]:[0,0];x=i?[o-r[0],n-r[1]]:[o-f,n-p];var u=[Math.abs(x[0]),Math.abs(x[1])];w=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[w,w];var h=[Math.abs(D[0].offsetTop)-x[0]*l(u[0]/w[0],w[0]),Math.abs(D[0].offsetLeft)-x[1]*l(u[1]/w[1],w[1])];y="yx"===T.axis?[h[0],h[1]]:"x"===T.axis?[null,h[1]]:[h[0],null],b=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var C=parseInt(T.contentTouchScroll)||0;y[0]=u[0]>C?y[0]:0,y[1]=u[1]>C?y[1]:0,k.overflowed[0]&&s(y[0],b[0],a,"y",W,!1),k.overflowed[1]&&s(y[1],b[1],a,"x",W,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,n,a,i){e&&$(C,e.toString(),{dur:t,scrollEasing:o,dir:n,overwrite:a,drag:i})}var d,u,h,f,p,m,g,v,x,w,y,b,_,S,C=e(this),k=C.data(n),T=k.opt,M=n+"_"+k.idx,B=e("#mCSB_"+k.idx),D=e("#mCSB_"+k.idx+"_container"),I=[e("#mCSB_"+k.idx+"_dragger_vertical"),e("#mCSB_"+k.idx+"_dragger_horizontal")],A=[],R=[],E=0,W="yx"===T.axis?"none":"all",P=[],H=D.find("iframe"),z=["touchstart."+M+" pointerdown."+M+" MSPointerDown."+M,"touchmove."+M+" pointermove."+M+" MSPointerMove."+M,"touchend."+M+" pointerup."+M+" MSPointerUp."+M],j=void 0!==document.body.style.touchAction;D.bind(z[0],function(e){o(e)}).bind(z[1],function(e){a(e)}),B.bind(z[0],function(e){i(e)}).bind(z[2],function(e){r(e)}),H.length&&H.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(z[0],function(e){o(e),i(e)}).bind(z[1],function(e){a(e)}).bind(z[2],function(e){r(e)})})})},A=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function a(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,Y(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(n),s=l.opt,d=l.sequential,u=n+"_"+l.idx,h=e("#mCSB_"+l.idx+"_container"),f=h.parent();h.bind("mousedown."+u,function(e){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var n=h.offset(),r=O(e)[0]-n.top+h[0].offsetTop,c=O(e)[1]-n.left+h[0].offsetLeft;r>0&&r<f.height()&&c>0&&c<f.width()?d.step&&a("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?a("on",38):r>f.height()&&a("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?a("on",37):c>f.width()&&a("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(e){t||(i&&(i=0,a("off",null)),c=!1)})},R=function(){function t(t,n){if(q(o),!E(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",h=[Math.round(r*a.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?h[1]:h[0]>=l.width()?.9*l.width():h[0],p=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v=t.deltaX||t.deltaY||n;else var u="y",h=[Math.round(r*a.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?h[1]:h[0]>=l.height()?.9*l.height():h[0],p=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||n;"y"===u&&!a.overflowed[0]||"x"===u&&!a.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==m||0>v&&m!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<2&&!i.mouseWheel.normalizeDelta&&(f=t.deltaFactor,d=17),$(o,(p-v*f).toString(),{dir:u,dur:d}))}}if(e(this).data(n)){var o=e(this),a=o.data(n),i=a.opt,r=n+"_"+a.idx,l=e("#mCSB_"+a.idx),c=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],d=e("#mCSB_"+a.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},L=function(e){var t=null;if(e){try{var o=e.contentDocument||e.contentWindow.document;t=o.body.innerHTML}catch(n){}return null!==t}try{var o=top.document;t=o.body.innerHTML}catch(n){}return null!==t},E=function(t,o){var a=o.nodeName.toLowerCase(),i=t.data(n).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(a,i)>-1&&!(e.inArray(a,r)>-1&&!e(o).is(":focus"))},W=function(){var t,o=e(this),a=o.data(n),i=n+"_"+a.idx,r=e("#mCSB_"+a.idx+"_container"),l=r.parent(),s=e(".mCSB_"+a.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(e){c=!1}).bind("click."+i,function(n){if(t&&(t=0,e(n.target).hasClass(d[12])||e(n.target).hasClass("mCSB_draggerRail"))){q(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1])return;var c="x",u=n.pageX>s.offset().left?-1:1,h=Math.abs(r[0].offsetLeft)-.9*u*l.width()}else{if(!a.overflowed[0])return;var c="y",u=n.pageY>s.offset().top?-1:1,h=Math.abs(r[0].offsetTop)-.9*u*l.height()}$(o,h.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},P=function(){var t=e(this),o=t.data(n),a=o.opt,i=n+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(o){var n=e(document.activeElement),i=r.find(".mCustomScrollBox").length,s=0;n.is(a.advanced.autoScrollOnFocus)&&(q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?(s+17)*i:0,t[0]._focusTimeout=setTimeout(function(){var e=[te(n)[0],te(n)[1]],o=[r[0].offsetTop,r[0].offsetLeft],i=[o[0]+e[0]>=0&&o[0]+e[0]<l.height()-n.outerHeight(!1),o[1]+e[1]>=0&&o[0]+e[1]<l.width()-n.outerWidth(!1)],c="yx"!==a.axis||i[0]||i[1]?"all":"none";"x"===a.axis||i[0]||$(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s}),"y"===a.axis||i[1]||$(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})},t[0]._focusTimer))})},H=function(){var t=e(this),o=t.data(n),a=n+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+a,function(t){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},z=function(){var t=e(this),o=t.data(n),a=o.opt,i=o.sequential,r=n+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(n){function r(e,o){i.scrollAmount=a.scrollButtons.scrollAmount,Y(t,e,o)}if(n.preventDefault(),J(n)){var l=e(this).attr("class");switch(i.type=a.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},j=function(){function t(t){function n(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&a.tweenRunning||Y(o,e,t)}switch(t.type){case"blur":a.tweenRunning&&r.dir&&n("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!a.overflowed[0]||(37===l||39===l)&&!a.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),n(s,l))}else if(33===l||34===l){if((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){q(o);var h=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&a.overflowed[1]&&!a.overflowed[0])var f="x",p=Math.abs(c[0].offsetLeft)-.9*h*d.width();else var f="y",p=Math.abs(c[0].offsetTop)-.9*h*d.height();$(o,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&a.overflowed[1]&&!a.overflowed[0])var f="x",p=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var f="y",p=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;$(o,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),a=o.data(n),i=a.opt,r=a.sequential,l=n+"_"+a.idx,s=e("#mCSB_"+a.idx),c=e("#mCSB_"+a.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",h=c.find("iframe"),f=["blur."+l+" keydown."+l+" keyup."+l];h.length&&h.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(f[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(f[0],function(e){t(e)})},Y=function(t,o,a,i,r){function l(e){u.snapAmount&&(h.scrollAmount=u.snapAmount instanceof Array?"x"===h.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==h.type,n=r?r:e?o?m/1.5:g:1e3/60,a=e?o?7.5:40:2.5,s=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],p="x"===h.dir[0]?s[1]+h.dir[1]*d[1]*a:s[0]+h.dir[1]*d[0]*a,v="x"===h.dir[0]?s[1]+h.dir[1]*parseInt(h.scrollAmount):s[0]+h.dir[1]*parseInt(h.scrollAmount),x="auto"!==h.scrollAmount?v:p,w=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",y=!!e;return e&&17>n&&(x="x"===h.dir[0]?s[1]:s[0]),$(t,x.toString(),{dir:h.dir[0],scrollEasing:w,dur:n,onComplete:y}),e?void(h.dir=!1):(clearTimeout(h.step),void(h.step=setTimeout(function(){l()},n)))}function s(){clearTimeout(h.step),Q(h,"step"),q(t)}var c=t.data(n),u=c.opt,h=c.sequential,f=e("#mCSB_"+c.idx+"_container"),p="stepped"===h.type,m=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(h.dir=[a===d[16]||a===d[15]||39===a||37===a?"x":"y",a===d[13]||a===d[15]||38===a||37===a?-1:1],q(t),ee(a)&&"stepped"===h.type)return;l(p);break;case"off":s(),(p||c.tweenRunning&&h.dir)&&l(!0)}},U=function(t){var o=e(this).data(n).opt,a=[];return"function"==typeof t&&(t=t()),t instanceof Array?a=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(a[0]=t.y?t.y:t.x||"x"===o.axis?null:t,a[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof a[0]&&(a[0]=a[0]()),"function"==typeof a[1]&&(a[1]=a[1]()),a},X=function(t,o){if(null!=t&&"undefined"!=typeof t){var a=e(this),i=a.data(n),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1):l.outerHeight(!1),h="x"===o?l[0].offsetLeft:l[0].offsetTop,f="x"===o?"left":"top";switch(c){case"function":return t();case"object":var p=t.jquery?t:e(t);if(!p.length)return;return"x"===o?te(p)[1]:te(p)[0];case"string":case"number":if(ee(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(h-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var m=h+parseInt(t.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==t.indexOf("px")&&ee(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var p=l.find(":"+t);return"x"===o?te(p)[1]:te(p)[0]}return e(t).length?"x"===o?te(e(t))[1]:te(e(t))[0]:(l.css(f,t),void u.update.call(null,a[0]))}}},F=function(t){function o(){return clearTimeout(h[0].autoUpdate),0===l.parents("html").length?void(l=null):void(h[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+h[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=h.find("img").length,
s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void h.find("img").each(function(){a(this)}))},c.advanced.autoUpdateTimeout))}function a(t){function o(e,t){return function(){return t.apply(e,arguments)}}function n(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var a=new Image;a.onload=o(a,n),a.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=h.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(h[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(n),c=s.opt,h=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(h[0].autoUpdate),void Q(h[0],"autoUpdate")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},q=function(t){var o=t.data(n),a=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");a.each(function(){Z.call(this)})},$=function(t,o,a){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||y>=b[0]+C,c.callbacks.alwaysTriggerOffsets||-k>=y]}function l(){var e=[f[0].offsetTop,f[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],n=[f.outerHeight(!1),f.outerWidth(!1)],i=[h.height(),h.width()];t[0].mcs={content:f,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-i[1])),direction:a.dir}}var s=t.data(n),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=e.extend(d,a),u=[a.dur,a.drag?0:a.dur],h=e("#mCSB_"+s.idx),f=e("#mCSB_"+s.idx+"_container"),p=f.parent(),m=c.callbacks.onTotalScrollOffset?U.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?U.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=a.trigger,(0!==p.scrollTop()||0!==p.scrollLeft())&&(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===a.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(a.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),w="left",y=f[0].offsetLeft,b=[h.width()-f.outerWidth(!1),x.parent().width()-x.width()],_=[o,0===o?0:o/s.scrollRatio.x],C=m[1],k=g[1],T=C>0?C/s.scrollRatio.x:0,M=k>0?k/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),w="top",y=f[0].offsetTop,b=[h.height()-f.outerHeight(!1),x.parent().height()-x.height()],_=[o,0===o?0:o/s.scrollRatio.y],C=m[0],k=g[0],T=C>0?C/s.scrollRatio.y:0,M=k>0?k/s.scrollRatio.y:0}_[1]<0||0===_[0]&&0===_[1]?_=[0,0]:_[1]>=b[1]?_=[b[0],b[1]]:_[0]=-_[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(f[0].onCompleteTimeout),N(x[0],w,Math.round(_[1]),u[1],a.scrollEasing),(s.tweenRunning||!(0===y&&_[0]>=0||y===b[0]&&_[0]<=b[0]))&&N(f[0],w,Math.round(_[0]),u[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,S(x),s.cbOffsets=r())},onUpdate:function(){a.callbacks&&a.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===c.axis&&clearTimeout(f[0].onCompleteTimeout);var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&_[1]>=b[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&_[1]<=M&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,f[0].idleTimer=0,S(x,"hide")},e)}}})}},N=function(e,t,o,n,a,i,r){function l(){b.stop||(x||p.call(),x=K()-v,s(),x>=b.time&&(b.time=x>b.time?x+h-(x-b.time):x+h-1,b.time<x+1&&(b.time=x+1)),b.time<n?b.id=f(l):g.call())}function s(){n>0?(b.currVal=u(b.time,w,_,n,a),y[t]=Math.round(b.currVal)+"px"):y[t]=o+"px",m.call()}function c(){h=1e3/60,b.time=x+h,f=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},b.id=f(l)}function d(){null!=b.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null)}function u(e,t,o,n,a){switch(a){case"linear":case"mcsLinear":return o*e/n+t;case"mcsLinearOut":return e/=n,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=n/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=n/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=n/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=n,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/n)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=n)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var h,f,r=r||{},p=r.onStart||function(){},m=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,w=e.offsetTop,y=e.style,b=e._mTween[t];"left"===t&&(w=e.offsetLeft);var _=o-w;b.stop=0,"none"!==i&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var n=t[o];e._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},Q=function(e,t){try{delete e[t]}catch(o){e[t]=null}},J=function(e){return!(e.which&&1!==e.which)},G=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ee=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},te=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},oe=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).load(function(){e(a)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,n,a=e(t),i=a.parents(".mCSB_container");return i.length?(o=i.parent(),n=[i[0].offsetTop,i[0].offsetLeft],n[0]+te(a)[0]>=0&&n[0]+te(a)[0]<o.height()-a.outerHeight(!1)&&n[1]+te(a)[1]>=0&&n[1]+te(a)[1]<o.width()-a.outerWidth(!1)):void 0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(n);return o?o.overflowed[0]||o.overflowed[1]:void 0}})})})});
//# sourceMappingURL=bottom_script.min.js.map
